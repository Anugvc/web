<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- CSS only -->
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-eOJMYsd53ii+scO/bJGFsiCZc+5NDVN2yr8+0RDqr0Ql0h+rP48ckxlpbzKgwra6" crossorigin="anonymous">

    <title>Document</title>
<style>
    .container{
        margin-left: 5%;
    }
    .res{
        margin-left:10% ;
        margin-top:4%;
    }
</style>
</head>
<body>
  <div class="container">
    <div class="row">
        <div class="col-sm"></div>
        <div class="col-sm">Search Country Name</div>
        <div class="col-sm"></div>
    </div>
    <div class="row" >
        <div class="col-sm"></div>
        <div class="col-sm">
            <input type="text" name="" id="btnn" placeholder="Enter Country Name">
            <button class="btn btn-primry" onclick="getcntry()">GetData</button>
        </div>
        <div class="col-sm"></div>
    </div>
    <div class="row" id="res">
        <div class="col-sm"></div>
        <div class="col-sm" id="resultarea">
            
           
        </div>
        <div class="col-sm"></div>
    </div>
  </div>
</body>
<script>
function populate(data){
    console.log(data);
    let flag=dataset[0].flag
    let country=dataset[0].name
    let population=dataset[0].population
    let currency=dataset[0].currencies[0].name
    let currency_symbol=dataset[0].currencies[0].symbol
    let html_data=""
     html_data+=`<div class="card" style="width: 18rem;">
                <img src="${flag}" class="card-img-top" alt="...">
                <div class="card-body">
                  <h5 class="card-title">${country}</h5>
                  <p class="card-text">population:${population}</p>
                  <p>currency name: ${currency}</p>
                  <p>currency symbol: ${currency_symbol}</p>

                </div>`
    document.querySelector("#resultarea").innerHTML=html_data
}
  
function getcntry(){
    let countryname=document.querySelector("#btnn").value
     let url=`https://restcountries.eu/rest/v2/name/${countryname}?fullText=true`
    fetch(url).
    then(resp => resp.json())
    .then(data=> populate(data))
    console.log(data);
}
      // function inp(){
        //     let countryname=document.querySelector("#btnn").value
        //     let url=`https://restcountries.eu/rest/v2/name/${countryname}?fullText=true`
        //     let request=new XMLHttpRequest();
        //     request.open("get",url)
        //     request.send()
        //     request.onreadystatechange=()=>{
        //         if(request.readyState==4){
        //             if(request.status>199 & request.status<300){
        //                 let dataset=JSON.parse(request.responseText)
        //                populate(dataset)
        //             }
        //             else{
        //                 alert("Failed")
        //             }
        //         }
        //     }
        // }
</script>
</html>

